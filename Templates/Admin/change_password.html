{% extends 'Admin/admin_home.html'%}
{% block body %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-5">
      <div class="card shadow-sm" style="background-color:#fffdf6; border-radius:15px;">
        <!-- Header -->
        <div class="card-header text-center" style="background-color:#fff8e7; color:#a67c52; font-weight:bold;">
          <h4>Change Password</h4>
        </div>

        <!-- Body -->
        <div class="card-body">
          <form method="post" action="/Myapp/change_passwordpost/">
            {% csrf_token %}

            <div class="mb-3 position-relative">
              <label for="current_password" class="form-label" style="color:#5c4630;">Current Password</label>
              <input type="password" class="form-control" id="current_password" name="current_password"
                     style="border-radius:8px; border:1px solid #d9c7b0; background-color:#fffaf0;" required>
              <span class="position-absolute top-50 end-0 translate-middle-y me-3 cursor-pointer"
                    onclick="togglePassword('current_password')">
                <i class="bi bi-eye" id="current_eye" style="color:#a67c52;"></i>
              </span>
            </div>

            <div class="mb-3 position-relative">
              <label for="new_password" class="form-label" style="color:#5c4630;">New Password</label>
              <input type="password" class="form-control" id="new_password" name="new_password"
                     style="border-radius:8px; border:1px solid #d9c7b0; background-color:#fffaf0;" required>
              <span class="position-absolute top-50 end-0 translate-middle-y me-3 cursor-pointer"
                    onclick="togglePassword('new_password')">
                <i class="bi bi-eye" id="new_eye" style="color:#a67c52;"></i>
              </span>
            </div>

            <div class="mb-3 position-relative">
              <label for="confirm_password" class="form-label" style="color:#5c4630;">Confirm New Password</label>
              <input type="password" class="form-control" id="confirm_password" name="confirm_password"
                     style="border-radius:8px; border:1px solid #d9c7b0; background-color:#fffaf0;" required>
              <span class="position-absolute top-50 end-0 translate-middle-y me-3 cursor-pointer"
                    onclick="togglePassword('confirm_password')">
                <i class="bi bi-eye" id="confirm_eye" style="color:#a67c52;"></i>
              </span>
            </div>

            <div class="text-center">
              <button type="submit" class="btn" style="background-color:#d9a066; color:#fff; border-radius:8px; padding:10px 30px;">
                <i class="bi bi-key-fill me-1"></i> Change Password
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<!-- Password Toggle Script -->
<script>
function togglePassword(fieldId) {
    const input = document.getElementById(fieldId);
    const icon = document.querySelector(`#${fieldId}_eye`);
    if (input.type === "password") {
        input.type = "text";
        icon.classList.replace("bi-eye", "bi-eye-slash");
    } else {
        input.type = "password";
        icon.classList.replace("bi-eye-slash", "bi-eye");
    }
}
</script>
{% endblock %}
